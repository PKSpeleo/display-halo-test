<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>MacBook Pro 16 M3 Max â€“ Screen Pixel Test</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
    <style>
        html, body {
            margin: 0;
            padding: 0;
            width: 100%;
            height: 100%;
            background: #000000; /* Absolutely black background */
            overflow: hidden;    /* No scrollbars */
        }

        /* Black area that exactly matches the visible window size */
        #wrapper {
            position: fixed;
            top: 0;
            left: 0;
            background: #000000; /* Absolutely black background */
        }

        /* Inner white border along the perimeter (inside) */
        #frame {
            position: absolute;
            top: 1px;
            left: 1px;
            right: 1px;
            bottom: 1px;
            /* Hairline border: on Retina it is usually rendered as 1 physical pixel */
            border: 0.5px solid #FFFFFF; /* Absolutely white border */
            box-sizing: border-box;
            background: transparent;
            display: none; /* Hidden by default, toggled by Space key */
        }
    </style>
</head>
<body>
<div id="wrapper">
    <div id="frame"></div>
</div>

<script>
    (function () {
        const wrapper = document.getElementById('wrapper');
        const frame = document.getElementById('frame');
        let frameVisible = false;

        function resizeToViewport() {
            const vw = window.innerWidth;
            const vh = window.innerHeight;
            const dpr = window.devicePixelRatio || 1;

            // Set the black area width and height to match the current viewport
            wrapper.style.width = vw + 'px';
            wrapper.style.height = vh + 'px';

            // Debug info in the console: logical viewport, physical screen size and DPR
            console.clear();
            console.log('Viewport (window.innerWidth x window.innerHeight): ' + vw + ' x ' + vh);
            console.log('Screen   (screen.width x screen.height): ' + window.screen.width + ' x ' + window.screen.height);
            console.log('devicePixelRatio:', dpr);
            console.log('Note: 1 CSS px = devicePixelRatio physical pixels in each direction.');
        }

        // Handle Space key to toggle border visibility
        function handleKeyDown(event) {
            if (event.code === 'Space' || event.key === ' ') {
                // Prevent default scrolling or page actions
                event.preventDefault();
                frameVisible = !frameVisible;
                frame.style.display = frameVisible ? 'block' : 'none';
            }
        }

        // Adjust to viewport changes
        window.addEventListener('resize', resizeToViewport);
        window.addEventListener('keydown', handleKeyDown);
        window.addEventListener('load', resizeToViewport);
        document.addEventListener('DOMContentLoaded', resizeToViewport);
    })();
</script>
</body>
</html>